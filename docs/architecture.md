[[toc]]

# 自定义平台 3.0 - 前端架构设计 v2

---

## 前言

我们站在「web 前端开发者」的角度来分析和分拆「自定义工具系统」的系统组成，以下内容我们将从业务场景切入，建立 IUB-DSL 模型涵盖业务场景，然后根据 IUB-DSL 模型进一步推导出 __前端系统设计__ 。

### 前置条件

- 配置工具 web 客户端
  - 浏览器兼容 性： Chrome
  - 网络环境：浩云内网 - 使用者：配置人员
  - UI 设计：由前端负责制定和规划（暂定）
  - 移动端：不支持
- 应用平台 web 客户端
  - 浏览器兼容性： Chrome、IE9+、WPF 容器
  - 网络环境：金融企业内网
  - 使用者：产品使用者
  - UI 设计：由前端负责制定和规划（暂定）
  - 移动端：自动适配

### 名词解释

**IUB-DSL**: [查看详情](https://github.com/SANGET/custom-platform-tool/blob/master/packages/dsl/core/readme.md)
**ApbDSL 转换器**: 将前端数据转换成 ApbDSL 数据
**应用平台 - web 客户端**: 与「应用平台服务」配套的 web 客户端
**配置平台 - web 客户端**: 与「配置平台服务」配套的 web 客户端，提供页面设计器，流程设计器，数据设计器，菜单管理，组件管理，字典管理，模板管理等功能的站点
**配置平台服务**: 支撑 web 配置平台的业务逻辑的后端服务
**应用平台服务**: 处理 web 应用平台的业务逻辑的后端服务
**前端构建**: 将前端代码打包成静态资源

---

## 设计思路

> 我们以科学的方式剖析事物运行规律：通过观察事物 -> 总结规律 -> 建立模型解释运行规律 -> 应用框架，让事物实际运行

这里我们采取 **业务 -> 建模 -> 架构** 的思路来推导前端架构。首先根据实际业务场景，进行分析抽离，建立一套可以描述业务场景的模型 ---- IUB-DSL，然后围绕此模型展开系统架构。

---

## 前后端交互领域模型

我们将系统分为「Web 客户端」与「服务端」这两大部分，这里我们建立了前后端交互领域模型：

![图片描述](/tfl/pictures/202006/tapd_41909965_1590996816_82.png)

---

## 前端模块架构设计

根据系统领域模型，我们丰富细化了「前端」模块，以及模块之间的交互关系：

![图片描述](/tfl/pictures/202005/tapd_41909965_1590744277_7.png)

---

## 系统分层设计

根据模块交互设计，我们将模块按照实际的依赖关系，做了模块分层设计：

![图片描述](/tfl/pictures/202006/tapd_41909965_1590996793_9.png)

---

## 模块补充说明

### 应用平台 web 客户端 - 应用运行容器

![图片描述](/tfl/pictures/202006/tapd_41909965_1590996776_21.png)

### IUB-DSL 各中枢说明

![图片描述](/tfl/pictures/202006/tapd_41909965_1590996762_52.png)

---

## IUB-DSL 模型

IUB-DSL 是一套用于描述「用户」与「业务」之间的交互过程中，各个元素之间的相互关系的模型，可以容纳并理清大部分的业务场景中，用户 -> 控件 -> 数据之间的关系。

我们的系统架构是基于 IUB-DSL 模型构建的。

![图片描述](/tfl/pictures/202006/tapd_41909965_1590996738_47.png)

---
## 系统非业务性指标

![图片描述](/tfl/captures/2020-06/tapd_41909965_base64_1590975380_32.png)

---

## 最后

感谢大家的观看。
